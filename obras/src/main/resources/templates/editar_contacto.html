<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Registro de Contacto Externo</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2017/conic-gradient.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>   
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="static/css/index1.css" th:href="@{/css/index1.css}">
</head>
<body style="background-color: #e9e9e9;">
	
	<div th:replace="/header :: header"> </div>
	
	<div class="container mt-4">
		<div class="col-md-8">
			
			<form id="registro_contacto" th:action="@{/contacto/save}" th:object=${contacto} method="POST">
				
					<div class="card-header">
						<h3>Editar Contacto de Obra</h3>
					</div>
						<br>
						
						<input id=idObr th:field="*{idObr}" type="hidden" class="form-control">
					
						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Nombre</label>
							<div class="col-sm-8">
								<input id=nomObr th:field="*{contactoProyectoObr}" type="text" class="form-control" readonly>
							</div>
						</div>
						
						<div class="form-group row">
						<label class="col-sm-2 col-form-label">Ciudad</label>
							<div class="col-sm-8">
								<input id=nomCiud th:field="*{contactoCiudadObr}" type="text" class="form-control" readonly>
							</div>							
						</div>
						
						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Zona</label>
							<div class="col-sm-8">
							   <input id=nomZon th:field="*{contactoZonaObr}" type="text" class="form-control" readonly>
							 </div>							
						</div>
						
						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Contructora</label>
							<div class="col-sm-8">
								<input id=consObra th:field="*{contactoConstructoraObr}" type="text" class="form-control" readonly>
							</div>							
						</div>
						
						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Estado</label>
							<div class="col-sm-8">
								<input id=estadoObra th:field="*{contactoStatusObr}" type="text" class="form-control" readonly>
							</div>							
						</div>
						
						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Avance</label>
							<div class="col-sm-8">
							<select class="form-control" id="porcentajeObras"
								th:field="*{contactoAvanceObr}">
								<option value="0">Seleccione el avance</option>
								<option th:value="0+'%'" th:text="'0%'"></option>
								<option th:value="10+'%'" th:text="'10%'"></option>
								<option th:value="20+'%'" th:text="'20%'"></option>
								<option th:value="30+'%'" th:text="'30%'"></option>
								<option th:value="40+'%'" th:text="'40%'"></option>
								<option th:value="50+'%'" th:text="'50%'"></option>
								<option th:value="60+'%'" th:text="'60%'"></option>
								<option th:value="70+'%'" th:text="'70%'"></option>
								<option th:value="80+'%'" th:text="'80%'"></option>
								<option th:value="90+'%'" th:text="'90%'"></option>
								<option th:value="100+'%'" th:text="'100%'"></option>
							</select>
							</div>
						</div>
					
					
						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Nombre del Contacto</label>
							<div class="col-sm-8"> 
								<input id=contacto th:field="*{nombreContact}" type="text" class="form-control">
							</div>
						</div>

						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Tel√©fono</label> 
							<div class="col-sm-8">
								<input id=telf th:field="*{telefonoContact}" type="text" class="form-control">
							</div>
						</div>

						<div class="form-group row">
							<label class="col-sm-2 col-form-label">Correo</label> 
							<div class="col-sm-8">
								<input id=correo th:field="*{correoContact}" type="text" class="form-control">
							</div>
						</div>
						
						
						<div class="card-footer">
					    <input id="btnSubmit" type="submit" value="Guardar"
						class="btn btn-success" onclick="validate()">
						 
						<input id="btnClean" type="button" value="Limpiar Campos"
						class="btn btn-info" onclick="cleanForm()">
						 
						<a th:href="@{/detalle/obraLista}" class="btn btn-warning btn-md"><span
						class="glyphicon glyphicon-chevron-left"></span>Regresar a Obras</a>
					    </div>
						
						<br><br><br><br><br>
						
				 
			  </form>
			
			  </div>
			</div>

		<footer class="footer" th:replace="/footer :: footer"></footer>

	<script type="text/javascript">
		$(function validate() {
			$("#btnSubmit")
					.click(
							function() {

								var name = $("#contacto").val();
								var telf = $("#telf").val();
								var correo = $("#correo").val();
								var proyecto = document.getElementById("proyecto");
								
								if (name == '' && telf == '' && correo == '' && proyecto.value == '') {	
									
									$("#proyecto").focus();
													
									swal({
										title : "Por favor complete los campos requeridos en el formulario!!!",
										icon : "warning",
										button : "Volver",
									})
									return false;
								}

								else {
									swal({
										title : "Registro creado exitosamente!!!",
										icon : "success",
										timer: 16000,
										button : "Listo",
										
									})
									return true;
								}
							});
		});
		
		function removeDuplicateOptions(selectNode) {
	
		if (typeof selectNode === "string") {
				selectNode = document.getElementById("proyecto");
			}

			var seen = {}, options = [].slice.call(selectNode.options), length = options.length, previous, option, value, text, i;

			for (i = 0; i < length; i += 1) {
				option = options[i];
				value = option.value, text = option.firstChild.nodeValue;
				previous = seen[value];
				if (typeof previous === "string" && text === previous) {
					selectNode.removeChild(option);
				} else {
					seen[value] = text;
				}
			}
		}

		removeDuplicateOptions("proyecto");

	    function removeDuplicateOptions1(selectNode) {
			
			if (typeof selectNode === "string") {
					selectNode = document.getElementById("ciudad");
				}

				var seen = {}, options = [].slice.call(selectNode.options), length = options.length, previous, option, value, text, i;

				for (i = 0; i < length; i += 1) {
					option = options[i];
					value = option.value, text = option.firstChild.nodeValue;
					previous = seen[value];
					if (typeof previous === "string" && text === previous) {
						selectNode.removeChild(option);
					} else {
						seen[value] = text;
					}
				}
			}

			removeDuplicateOptions1("ciudad");
			
			function removeDuplicateOptions2(selectNode) {
				
				if (typeof selectNode === "string") {
						selectNode = document.getElementById("sector");
					}

					var seen = {}, options = [].slice.call(selectNode.options), length = options.length, previous, option, value, text, i;

					for (i = 0; i < length; i += 1) {
						option = options[i];
						value = option.value, text = option.firstChild.nodeValue;
						previous = seen[value];
						if (typeof previous === "string" && text === previous) {
							selectNode.removeChild(option);
						} else {
							seen[value] = text;
						}
					}
				}

				removeDuplicateOptions2("sector");
				
				
				function removeDuplicateOptions3(selectNode) {
					
					if (typeof selectNode === "string") {
							selectNode = document.getElementById("constructora");
						}

						var seen = {}, options = [].slice.call(selectNode.options), length = options.length, previous, option, value, text, i;

						for (i = 0; i < length; i += 1) {
							option = options[i];
							value = option.value, text = option.firstChild.nodeValue;
							previous = seen[value];
							if (typeof previous === "string" && text === previous) {
								selectNode.removeChild(option);
							} else {
								seen[value] = text;
							}
						}
					}

					removeDuplicateOptions3("constructora");
					
					function removeDuplicateOptions4(selectNode) {
						
						if (typeof selectNode === "string") {
								selectNode = document.getElementById("status");
							}

							var seen = {}, options = [].slice.call(selectNode.options), length = options.length, previous, option, value, text, i;

							for (i = 0; i < length; i += 1) {
								option = options[i];
								value = option.value, text = option.firstChild.nodeValue;
								previous = seen[value];
								if (typeof previous === "string" && text === previous) {
									selectNode.removeChild(option);
								} else {
									seen[value] = text;
								}
							}
						}

						removeDuplicateOptions4("zona");
						
						function removeDuplicateOptions5(selectNode) {
							
							if (typeof selectNode === "string") {
									selectNode = document.getElementById("zona");
								}

								var seen = {}, options = [].slice.call(selectNode.options), length = options.length, previous, option, value, text, i;

								for (i = 0; i < length; i += 1) {
									option = options[i];
									value = option.value, text = option.firstChild.nodeValue;
									previous = seen[value];
									if (typeof previous === "string" && text === previous) {
										selectNode.removeChild(option);
									} else {
										seen[value] = text;
									}
								}
							}

							removeDuplicateOptions5("zona");

			
			function cleanForm() {
				document.getElementById("registro_info").reset();
			}
		
	</script> 
</body>
</html>